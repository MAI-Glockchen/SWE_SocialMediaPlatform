<h2 class="text-2xl font-bold mb-4">Post</h2>

@if (post()) {
  <div class="border rounded-lg p-4 shadow-sm mb-6 bg-white">
    <div class="bg-white rounded mb-3 flex justify-center">
      <img
        class="rounded"
        [src]="post()?.image ? ('data:image/png;base64,' + post()!.image) : '/default.png'"
        height="150"
      >
    </div>
    <h3 class="text-lg font-semibold">{{ post()!.user }}</h3>
    <p class="text-gray-700">{{ post()!.text }}</p>
  </div>
}

<h2 class="text-2xl font-bold mb-4">Comments</h2>

@if (comments() && comments().length > 0) {

  <div class="flex flex-col gap-4 mb-6">
    @for (c of comments(); track c.comment_id) {
      <div class="border rounded-lg p-3 shadow-sm bg-white">
        <strong class="block text-blue-700">{{ c.user }}</strong>
        <p class="text-gray-700">{{ c.text }}</p>
      </div>
    }
  </div>

} @else {

  <p class="text-gray-500 italic mb-6">No comments yet.</p>

}

<h2 class="text-2xl font-bold mb-4 text-center">Add Comment</h2>

<div class="flex flex-col gap-3 max-w-xl mx-auto w-full">
  <input
    class="border px-3 py-2 rounded"
    placeholder="User"
    [(ngModel)]="newUser"
  >

  <textarea
    class="border px-3 py-2 rounded"
    placeholder="Comment"
    rows="3"
    [(ngModel)]="newText"
  ></textarea>

  <button
    class="bg-blue-600 text-white py-2 rounded hover:bg-blue-700"
    (click)="submitComment()"
  >
    Send
  </button>
</div>
